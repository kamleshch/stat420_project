---
title: "UK Household Annual Expenditure Analysis"
author: "STAT 420: Final Project, Summer 2019, kamlesh2, kdp3, pa9"
date: ''
output:
  pdf_document: default
  html_document: 
    toc: yes
urlcolor: cyan
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
\
\

Loading the libraries required for this analysis
```{r message=FALSE, warning=FALSE}
library(tidyverse)
library(kableExtra)
```

## Introduction to the dataset

The Living Costs and Food Survey (LCF) is an annual survey carried out in United Kingdom by [Office for National Statistics](https://www.ons.gov.uk/) since 1957. It collects data on spending pattern and the cost of living of households across UK.
\
\

<center>![](https://www.denverlibrary.org/sites/dplorg/files/united_kingdom_map2.jpg){width=300}</center>
\
\

### Data Collection Methodology

The LCF sample for Great Britain is a multi-stage stratified random sample with clustering. Address with 'small user' postcodes are drawn from the postcode address file. The LCF sample for Northern Ireland, which is part for Great Britain is collected by the central survey unit of Northern Island Statistics and Research Agency(NISRA). A systematic random sample of private addresses is drawn from the land and property service agency property database.
  
  - LCF is a continuous survey which is collected throughout the year  to ensure seasonal effects are covered. 

  - Randomely about 11,000 private households are selected each year.
  
  - Since it is completely voluntary, households can choose not to respond to the survey.
  
  - Every year on average about 50% of 11,000 households choose to respond to the survey
  
  - Volunteering household needs to fill a Household questionnaire, Individual questionnaire and dairy to track the daily expenditure for 2 weeks for all individuals aged 16 and over.
  

### Reason for this survey.

The LCF provides information for the Retail Prices Index, National Accounts estimates of household expenditure, the analysis of the effect of taxes and benefits and trends in nutrition. The results, however, are multi-purpose, providing an invaluable supply of economic and social data. 

### LCF Survey 2013

The dataset which we are analysing in this project is teaching dataset which is a subset of LCF 2013 survey. This dataset has been simplified for the purpose of learning and teaching. This dataset has been anonymised and deposited with the [UK data service](https://ukdataservice.ac.uk) and can be found [here](https://beta.ukdataservice.ac.uk/datacatalogue/studies/study?id=7932#!/details).

LCF 2013 survey has 5,144 respondents out of which 151 were from northern Ireland. 
\
\
 
#### References
 
*University of Manchester, Cathie Marsh Institute for Social Research (CMIST), UK Data Service, Office for National Statistics. (2019). Living Costs and Food Survey, 2013: Unrestricted Access Teaching Dataset. [data collection]. 2nd Edition. Office for National Statistics, [original data producer(s)]. Office for National Statistics. SN: 7932, [http://doi.org/10.5255/UKDA-SN-7932-2](http://doi.org/10.5255/UKDA-SN-7932-2)*
\
\

### Purpose of study

As part of this study, we would like to infer the household expenditure based on income and other socioeconomic indicators of the household.

We are also interested in knowing if a regression model can be build to predicti the expenditure with good confidence.

\
\
\

## Variable definitions

The variables in the dataset are

| Variable name | Variable label                                                        | Variable type |
|---------------|-----------------------------------------------------------------------|---------------|
| casenew       | Randomly generated case number                                        | Scalar        |
| weighta       | Annual weight                                                         | Scalar        |
| P550tpr       | Total expenditure, by adults & children (top-coded)                   | Scalar        |
| P344pr        | Gross normal weekly household income (top-coded)                      | Scalar        |
| P425r         | Main source of household income                                       | Nominal       |
| A172          | Internet connection in household                                      | Nominal       |
| A093r         | Economic position of Household Reference Person                       | Nominal       |
| A094r         | NS-SEC 3 class of Household Reference Person                          | Nominal       |
| A121r         | Tenure type                                                           | Nominal       |
| SexHRP        | Sex of Household Reference Person                                     | Nominal       |
| A049r         | Number of persons in household                                        | Ordinal       |
| G018r         | Number of adults in household                                         | Ordinal       |
| G019r         | Number of children in household                                       | Ordinal       |
| Gorx          | Government Office Region - modified                                   | Nominal       |
| weightar      | Weight (rescaled)                                                     | Scalar        |
| maininc       | Main source of household income (recoded, P425-1)                     | Nominal       |
| income        | Income                                                                | Scalar        |
| expenditure   | Total expenditure (top coded, formerly P550tpr)                       | Scalar        |
| hhsize        | Household size, number of people in household (recoded)formerly A049r | Nominal       |

The dataset contains 5,144 observations with each observation containing data from one household.
\
\

## Loading the dataset in R
Loading data from the tab delimited file:
```{r}
lcf_data = read.table("icfforworkbook.tab", sep = "\t", header = TRUE)
```

\
\

Sample data:
```{r}
head(lcf_data) %>% 
  kable() %>% kable_styling(c("striped","bordered"))
```
\

The structure of the dataframe is:
```{r}
str(lcf_data)
```

